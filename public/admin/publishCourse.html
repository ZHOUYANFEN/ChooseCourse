<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>大学生网上选课系统</title>
      <!-- 引入 Bootstrap -->
      <link href="../bootstrap/css/bootstrap.min.css" rel="stylesheet">
      <!-- HTML5 Shim 和 Respond.js 用于让 IE8 支持 HTML5元素和媒体查询 -->
      <!-- 注意： 如果通过 file://  引入 Respond.js 文件，则该文件无法起效果 -->
      <!--[if lt IE 9]>
         <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
         <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
      <![endif]-->
      <link rel="stylesheet" href="../css/courseSystem.css">
      <link rel="stylesheet" href="../css/publishCourse.css">
      <script src="../js/template-native.js"></script>
</head>
<body>

  <div class="navigation">
   <ul>
      <li><a href="publishAunnciate.html"><span class="navIcon" id="annunciate"></span><p>发布通知</p></a></li>
      <li><a class="active" href="publishCourse.html"><span class="navIcon" id="online"></span><p>发布选课</p></a></li>
      <li><a href="courseResult.html"><span class="navIcon" id="result"></span><p>选课结果</p></a></li>
      <li><a href="endChoose.html"><span class="navIcon" id="endChoose"></span><p>结束选课</p></a></li>
    </ul>
  </div>
  <div class="contain">
    <header><h3>大学生网上选课系统</h3></header>
    <div class="main">
      <div class="white">
      <form class="form-horizontal" role="form">
<!-- 选课类别 -->
        <div class="form-group">
          <label class="col-lg-5 col-sm-3 col-xs-3 control-label">选课类别：</label>
          <div class="col-lg-5 col-sm-6 col-xs-6" id="typeCourse">
            <input type="radio" name="typeCourse" value="openCourse" id="openCourse" checked>
            <input type="radio" name="typeCourse" value="labCourse" id="labCourse">
            <input type="radio" name="typeCourse" value="dirCourse" id="dirCourse">
            <div class="btn-group btn-group-sm">
              <button type="button" class="btn btn-default"><label for="openCourse">公选课</label></button>
              <button type="button" class="btn btn-default"><label for="labCourse">实验课</label></button>
              <button type="button" class="btn btn-default"><label for="dirCourse">方向课</label></button>
            </div> 
          </div>
          <button class="btn btn-success" id="addCourse">＋添加选课</button>
        </div>
        <div id="part1">
          <div class="panel-group" id="accordion">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#accordion" 
                     href="#collapseOne">
                    <span class="glyphicon glyphicon-hand-right"></span> 新建选课课程
                  </a>
                </h4>
              </div>
              <div id="collapseOne" class="panel-collapse collapse in">
                <div class="panel-body">
                  <div id="collapseOnePanel">
                  <div class="col-lg-offset-1 col-lg-10 col-sm-12">
                  <div class="col-sm-12">
                    <input type="text" name="subjectNum" id="subjectNum" class="form-control sr-only"  required>
                    
                    <div class="form-group col-sm-4">
                      <label for="subject" class="control-label">课程名</label>
                      <input type="text" name="subject" id="subject" class="form-control" required>
                    </div>
                    <div class="form-group col-sm-4">
                      <label for="credit" class="control-label">学分</label>
                      <select name="credit" id="credit" class="form-control">
                        <option value="0.5">0.5</option>
                        <option value="1">1</option>
                        <option value="1.5">1.5</option>
                        <option value="2">2</option>
                        <option value="2.5">2.5</option>
                        <option value="3">3</option>
                        <option value="3.5">3.5</option>
                        <option value="4">4</option>
                        <option value="4.5">4.5</option>
                        <option value="5">5</option>
                        <option value="5.5">5.5</option>
                        <option value="6">6</option>
                        <option value="6.5">6.5</option>
                        <option value="7">7</option>
                        <option value="7.5">7.5</option>
                        <option value="8">8</option>
                        <option value="8.5">8.5</option>
                        <option value="9">9</option>
                        <option value="9.5">9.5</option>
                        <option value="10">10</option>
                      </select>
                    </div>
                    <div class="form-group col-sm-4">
                      <label for="teacher" class="control-label">任课老师</label>
                      <select name="teacher" id="teacher" class="form-control">
                        <option value="10000">张三</option>
                        <option value="10001">李四</option>
                        <option value="10002">王五</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <div class="form-group col-sm-4">
                      <label for="startWeek" class="control-label">上课周数</label>
                      <div class="form-group">
                        <select name="startWeek" id="startWeek" class="btn btn-default">
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                        </select>
                        <label class="from-control">~</label>
                        <select name="endWeek" id="endWeek" class="btn btn-default" data-container="body" data-toggle="popover" data-placement="top" data-content="结束周不可小于开始周" >
                          <option value="1">1</option>
                          <option value="2">2</option>
                          <option value="3">3</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group col-sm-4">
                      <label for="courseSection" class="control-label">上课节数</label>
                      <select name="courseSection" id="courseSection" class="form-control">
                        <option value="1~2">1~2</option>
                        <option value="3~4">3~4</option>
                        <option value="5~6">5~6</option>
                        <option value="7~8">7~8</option>
                        <option value="9~10">9~10</option>
                        <option value="11~12">11~12</option>
                      </select>
                    </div>
                    <div class="form-group col-sm-4">
                      <label for="courseWeekday" class="control-label">星期</label>
                      <select name="courseWeekday" id="courseWeekday" class="form-control">
                        <option value="星期一">星期一</option>
                        <option value="星期二">星期二</option>
                        <option value="星期三">星期三</option>
                        <option value="星期四">星期四</option>
                        <option value="星期五">星期五</option>
                        <option value="星期六">星期六</option>
                        <option value="星期日">星期日</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-sm-8">
                    <div class="form-group col-sm-6">
                      <label for="place">上课地点</label>
                      <input type="text" name="place" id="place" class="form-control" required>
                    </div>
                    <div class="form-group col-sm-6">
                      <label for="peopleMax">可选人数</label>
                      <input type="text" name="peopleMax" id="peopleMax" class="form-control" required>
                    </div>
                  </div>
                  </div>
                    <button class="btn btn-success" id="ensureUpdate">确认修改</button>
                    <button class="btn btn-info" id="ensureAdd">确认添加</button>
                  </div>
                </div><!-- panel-body 结束 -->
              </div>
            </div><!-- panel 结束 -->
<!-- 课程列表 -->
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">
                  <a data-toggle="collapse" data-parent="#accordion" 
                     href="#collapseTwo">
                    <span class="glyphicon glyphicon-hand-right"></span> 课程列表
                  </a>
                </h4>
              </div>
              <div id="collapseTwo" class="panel-collapse collapse">
                <div class="panel-body" id="collapseTwoPanel">
                </div>

            <!-- script 代码添加 开始-->
                <script id="addCourseList" type="text/html">
                  <% if (isAdmin) { %>
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover">
                      <thead>
                        <tr>
                          <th>课程号</th>
                          <th>课程名</th>
                          <th>学分</th>
                          <th>老师</th>
                          <th>上课地点</th>
                          <th>上课周数</th>
                          <th>上课节数</th>
                          <th>星期</th>
                          <th>可选人数</th>
                          <th>编辑</th>
                          <th>删除</th>
                        </tr>
                      </thead>
                      <tbody>
                      <% for (var i = 0;i < list.length; i++) { %>
                        <tr id="<%= list[i].id%>">
                          <td><%= list[i].id %></td>
                          <td><%= list[i].subject_name %></td>
                          <td><%= list[i].credit %></td>
                          <td data="<%= list[i].teacher %>"><%= list[i].teacher_name %></td>
                          <td><%= list[i].place %></td>
                          <td><%= list[i].start_week %>～<%= list[i].end_week %>周</td>
                          <td><%= list[i].course_section %>节</td>
                          <td><%= list[i].course_weekday %></td>
                          <td><%= list[i].people_max %></td>
                          <td><span class="glyphicon glyphicon-edit text-primary" onclick="edit(this.parentNode.parentNode.id)"></span></td>
                          <td><span class="glyphicon glyphicon-trash text-danger" onclick="Delete(this.parentNode.parentNode.id)"></span></td>
                        </tr>
                      <% } %>
                      </tbody>
                    </table>
                  </div>
                  <% } %>
                  </script>
            <!-- script 代码添加 结束-->

              </div>
            </div><!-- panel 结束 -->
          </div><!-- panel-group 结束-->
        </div><!-- part1 结束 -->
        <!-- </div> -->
      </form>
      </div>
    </div>
  </div>
 <!-- jQuery (Bootstrap 的 JavaScript 插件需要引入 jQuery) -->
   <script src="../bootstrap/js/jquery-3.1.1.min.js"></script>
   <!-- 包括所有已编译的插件 -->
   <script src="../bootstrap/js/bootstrap.min.js"></script>
   <script src="../js/publishCourse.js"></script>
</body>
</html>